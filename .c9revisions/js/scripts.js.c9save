{"ts":1361970410211,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1362663672118,"patch":[[{"diffs":[[1,"\nvar defaultParameters = {\n      toHit : 0,    \n      difficulty : 0,\n      armor : 0,\n      wAP : 0,\n      wDB : 0,\n      nShots : 0\n}\n\nfunction calculate(params) {\n    \n    $.extend(defaultParameters, params);\n    \n    var margin = params.toHit-params.difficulty;\n    var margin5 = to5(margin);\n    var penetration = margin5 * params.wAP;\n    var remainingArmor = min0(params.armor-penetration);\n    var isPartialPenetration = remainingArmor <= half(params.armor);\n    var damForShot = 0;\n    if (isPartialPenetration) {\n        damForShot = min0(params.wDB - remainingArmor) + margin5;\n    } else {\n        damForShot = min0(params.wDB - remainingArmor + margin5);\n    }\n    var totDamage = to5(damForShot * params.nShots);\n    \n    return totDamage;\n    \n}\n\nfunction to5(value) {\n    return Math.floor(value/5);\n}\n\nfunction half(value) {\n    return Math.floor(value/2);\n}\n\nfunction min0(value) {\n    return Math.max(value, 0);\n}"]],"start1":0,"start2":0,"length1":0,"length2":932}]],"length":932,"saved":false}
{"ts":1362663683003,"patch":[[{"diffs":[[0,"alculate"],[1,"Damage"],[0,"(params)"]],"start1":147,"start2":147,"length1":16,"length2":22}]],"length":938,"saved":false}
{"ts":1362663756582,"patch":[[{"diffs":[[0,"ge;\n    \n}\n\n"],[1,"function calculatePrecisionMargin(params) {\n    return to5(min0(params.toHit - difficulty*2));\n    \n}\n\n"],[0,"function to5"]],"start1":756,"start2":756,"length1":24,"length2":127}]],"length":1041,"saved":false}
{"ts":1362663766422,"patch":[[{"diffs":[[0,"toHit - "],[1,"params."],[0,"difficul"]],"start1":839,"start2":839,"length1":16,"length2":23}]],"length":1048,"saved":false}
{"contributors":[],"silentsave":false,"ts":1362674824538,"patch":[[{"diffs":[[1,"\n\n //document.addEventListener(\"deviceready\", function () {  alert(\"Hello Jan!\");  });\n    $(function() {\n        $(\"#calculateButton\").click(function() {\n        var $form = $(\"dataForm\");\n        var params = {\n            toHit : $form.find(\"[name=toHit]\"),\n            difficulty : $form.find(\"[name=difficulty]\"),\n            wAP : $form.find(\"[name=wAP]\"),\n            wDB : $form.find(\"[name=wDB]\"),\n            nShots : $form.find(\"[name=nShots]\")\n        };\n        var damage = calculateDamage(params);\n        $(\"#result\").val(damage);\n        });\n    });\n    "],[0,"\nvar def"]],"start1":0,"start2":0,"length1":8,"length2":579}]],"length":1619,"saved":false}
{"ts":1362675323770,"patch":[[{"diffs":[[0,"toHit]\")"],[1,".val()"],[0,",\n      "]],"start1":251,"start2":251,"length1":16,"length2":22},{"diffs":[[0,"culty]\")"],[1,".val()"],[0,",\n      "]],"start1":315,"start2":315,"length1":16,"length2":22},{"diffs":[[0,"e=wAP]\")"],[1,".val()"],[0,",\n      "]],"start1":365,"start2":365,"length1":16,"length2":22},{"diffs":[[0,"e=wDB]\")"],[1,".val()"],[0,",\n      "]],"start1":415,"start2":415,"length1":16,"length2":22},{"diffs":[[0,"Shots]\")"],[1,".val()"],[0,"\n       "]],"start1":471,"start2":471,"length1":16,"length2":22}]],"length":1649,"saved":false}
{"ts":1362675868609,"patch":[[{"diffs":[[0,"toHit : "],[-1,"0"],[1,"\"0\""],[0,",    \n  "]],"start1":634,"start2":634,"length1":17,"length2":19},{"diffs":[[0,"culty : "],[-1,"0"],[1,"\"0\""],[0,",\n      "]],"start1":662,"start2":662,"length1":17,"length2":19},{"diffs":[[0,"armor : "],[-1,"0"],[1,"\"0\""],[0,",\n      "]],"start1":681,"start2":681,"length1":17,"length2":19},{"diffs":[[0,"  wAP : "],[-1,"0"],[1,"\"0\""],[0,",\n      "]],"start1":698,"start2":698,"length1":17,"length2":19},{"diffs":[[0,"  wDB : "],[-1,"0"],[1,"\"0\""],[0,",\n      "]],"start1":715,"start2":715,"length1":17,"length2":19},{"diffs":[[0,"Shots : "],[-1,"0"],[1,"\"0\""],[0,"\n}\n\nfunc"]],"start1":735,"start2":735,"length1":17,"length2":19},{"diffs":[[0,"rams);\n    \n"],[1,"    var    toHit : parseInt(params.toHit);\n    var    difficulty : parseInt(params.difficulty);\n    var    armor : parseInt(params.armor);\n    var    wAP : parseInt(params.wAP);\n    var    wDB : parseInt(params.wDB);\n    var    nShots : parseInt(params.nShots);      \n      \n      \n    \n"],[0,"    var marg"]],"start1":824,"start2":824,"length1":24,"length2":311}]],"length":1948,"saved":false}
{"ts":1362675908279,"patch":[[{"diffs":[[0,"  toHit "],[-1,":"],[1,"="],[0," parseIn"]],"start1":845,"start2":845,"length1":17,"length2":17},{"diffs":[[0,"ficulty "],[-1,":"],[1,"="],[0," parseIn"]],"start1":893,"start2":893,"length1":17,"length2":17},{"diffs":[[0,"  armor "],[-1,":"],[1,"="],[0," parseIn"]],"start1":941,"start2":941,"length1":17,"length2":17},{"diffs":[[0,"    wAP "],[-1,":"],[1,"="],[0," parseIn"]],"start1":982,"start2":982,"length1":17,"length2":17},{"diffs":[[0,"    wDB "],[-1,":"],[1,"="],[0," parseIn"]],"start1":1021,"start2":1021,"length1":17,"length2":17},{"diffs":[[0," nShots "],[-1,":"],[1,"="],[0," parseIn"]],"start1":1063,"start2":1063,"length1":17,"length2":17},{"diffs":[[0,"n = "],[-1,"params.toHit-params."],[1,"toHit-"],[0,"diff"]],"start1":1136,"start2":1136,"length1":28,"length2":14},{"diffs":[[0,"rgin5 * "],[-1,"params."],[0,"wAP;\n   "]],"start1":1213,"start2":1213,"length1":23,"length2":16},{"diffs":[[0," = min0("],[-1,"params."],[0,"armor-pe"]],"start1":1248,"start2":1248,"length1":23,"length2":16},{"diffs":[[0,"<= half("],[-1,"params."],[0,"armor);\n"]],"start1":1322,"start2":1322,"length1":23,"length2":16},{"diffs":[[0,"mForShot = min0("],[-1,"params."],[0,"wDB - remainingA"]],"start1":1404,"start2":1404,"length1":39,"length2":32},{"diffs":[[0," = min0("],[-1,"params."],[0,"wDB - re"]],"start1":1484,"start2":1484,"length1":23,"length2":16},{"diffs":[[0,"rShot * "],[-1,"params."],[0,"nShots);"]],"start1":1560,"start2":1560,"length1":23,"length2":16}]],"length":1892,"saved":false}
{"ts":1362675919678,"patch":[[{"diffs":[[0," : \"0\"\n}"],[1,";"],[0,"\n\nfuncti"]],"start1":740,"start2":740,"length1":16,"length2":17}]],"length":1893,"saved":false}
{"contributors":[],"silentsave":false,"ts":1363018508093,"patch":[[{"diffs":[[0,"oHit : \""],[-1,"0"],[1,"15"],[0,"\",    \n "]],"start1":635,"start2":635,"length1":17,"length2":18},{"diffs":[[0,"fficulty : \""],[1,"1"],[0,"0\",\n      ar"]],"start1":660,"start2":660,"length1":24,"length2":25},{"diffs":[[0,"   armor : \""],[1,"1"],[0,"0\",\n      wA"]],"start1":680,"start2":680,"length1":24,"length2":25},{"diffs":[[0,"     wAP : \""],[-1,"0"],[1,"4"],[0,"\",\n      wDB"]],"start1":698,"start2":698,"length1":25,"length2":25},{"diffs":[[0," wDB : \""],[-1,"0"],[1,"8"],[0,"\",\n     "]],"start1":719,"start2":719,"length1":17,"length2":17},{"diffs":[[0,"hots : \""],[-1,"0"],[1,"1"],[0,"\"\n};\n\nfu"]],"start1":739,"start2":739,"length1":17,"length2":17},{"diffs":[[0,".extend("],[1,"params,"],[0,"defaultP"]],"start1":799,"start2":799,"length1":16,"length2":23},{"diffs":[[0,"ters"],[-1,", params"],[0,");\n "]],"start1":827,"start2":827,"length1":16,"length2":8}]],"length":1895,"saved":false}
{"ts":1363018614465,"patch":[[{"diffs":[[0," nShots)"],[1,"+1"],[0,";\n    \n "]],"start1":1570,"start2":1570,"length1":16,"length2":18}]],"length":1897,"saved":false}
{"ts":1363018668255,"patch":[[{"diffs":[[0,"nction calculate"],[1,"RG"],[0,"Damage(params) {"]],"start1":756,"start2":756,"length1":32,"length2":34}]],"length":1899,"saved":false}
{"ts":1363019985518,"patch":[[{"diffs":[[-1,"\n\n //document.addEventListener(\"deviceready\", function () {  alert(\"Hello Jan!\");  });\n    $(function() {\n        $(\"#calculateButton\").click(function() {\n        var $form = $(\"dataForm\");\n        var params = {\n            toHit : $form.find(\"[name=toHit]\").val(),\n            difficulty : $form.find(\"[name=difficulty]\").val(),\n            wAP : $form.find(\"[name=wAP]\").val(),\n            wDB : $form.find(\"[name=wDB]\").val(),\n            nShots : $form.find(\"[name=nShots]\").val()\n        };\n        var damage = calculateDamage(params);\n        $(\"#result\").val(damage);\n        });\n    });\n    \nvar defaultParameters = {\n      toHit : \"15\",    \n      difficulty : \"10\",\n      armor : \"10\",\n      wAP : \"4\",\n      wDB : \"8\",\n      nShots : \"1\"\n};"],[1,"/*\nDopo diverse ore di meditazione e tabelle, sono giunto alla conclusione che non è possibile utilizzare lo stesso modello di danno per il funzionamento delle armi puramente cinetiche come i railgun o flak (shot) e per le armi esplosive come missili e siluri (shell). \n\nL'unica variazione in realtà sarà che per i shot la differenza tra armatura e penetrazione verrà sottratta al danno (eventualmente portandolo a 0), mentre per le shell o c'è penetrazione, o il danno non viene applicato.\n\nIn entrambi i casi, se la penetrazione è almeno la metà dell'armatura, viene applicato il danno derivato dal punteggio di attacco.\n\nParimenti, non posso modellare allo stesso modo la difficoltà per railgun, flak e missili. \n\nI railgun sparano un penetratore cinetico ad alta velocità, completamente inerte. Il che significa che diventa maggiormente difficile colpire mano a mano che aumenta la distanza (dando maggiore tempo al bersaglio di evitare i colpi).\n\nI missili fintantoché hanno carburante continuano ad accelerare e a mirare verso il bersaglio, diventando poi proiettili inerti quando finisce il carburante.\n\nI flak si espandono in una nuvola di sfere di acciaio ad alta velocità, per cui aumentando la distanza diventa più facile colpire, ma diminuisce danno e penetrazione.\n\nI siluri sono paragonabili più a delle piccole navi che a dei missili.\n\nDopo lunghissime ponderazioni, questo è il risultato : \n    \n- i railgun hanno la classica difficoltà pari alla distanza moltiplicata per la spinta, ma ignorano il punteggio difensivo (contromisure ecc)\n\n- i missili partono da precisione (AB) pari a 0, e aumentano la precisione di 1 per ogni esagono fino a raggiungere la loro AB massima. In questa fase ignorano la spinta del bersaglio. Se la distanza al bersaglio fosse ancora maggiore, da quel punto funzionano esattamente come se un railgun, ma la difficoltà è sia distanza per spinta sia contromisure.\n- i flak aumentano di 1 l'AB per ogni esagono, ma diminuiscono di 1 l'AP e l' AD\n- i siluri possono funzionare in due modi, guidati o non guidati. Nel primo caso, la difficoltà è la distanza tra la nave e il siluro (niente spinta), e ci deve essere un percorso diretto tra la nave e il siluro (e non possono essere lanciati altri siluri finché il primo non ha colpito). Nel secondo caso la difficoltà sono solo le contromisure del bersaglio, ma viene utilizzato solo l'AB del siluro.\n\n*/\n\n //document.addEventListener(\"deviceready\", function () {  alert(\"Hello Jan!\");  });\n    $(function() {\n        $(\"#calculateButton\").click(function() {\n        var $form = $(\"dataForm\");\n        var params = {\n            toHit : $form.find(\"[name=toHit]\").val(),\n            difficulty : $form.find(\"[name=difficulty]\").val(),\n            wAP : $form.find(\"[name=wAP]\").val(),\n            wDB : $form.find(\"[name=wDB]\").val(),\n            nShots : $form.find(\"[name=nShots]\").val()\n        };\n        var damage = calculateDamage(params);\n        $(\"#result\").val(damage);\n        });\n    });\n    \nvar defaultParameters = {\n      toHit : \"15\",    \n      difficulty : \"10\",\n      armor : \"10\",\n      wAP : \"4\",\n      wDB : \"8\",\n      nShots : \"1\"\n};\n\nfunction calculateVariables(attWeapon, targetShip) {\n    var type = attWeapon.type;\n    var wBaseAB = attWeapon.ab;\n    var wBaseAP = attWeapon.ap;\n    var wBaseAD = attWeapon.ad;\n        \n    var thrust = targetShip.thrust;    \n    var distance = targetShip.distance;\n    var ecm = targetShip.ecm;\n    \n    var vars = {\n         diff = 0,\n         wAB = wBaseAB,\n         wAP = wBaseAP,\n         wAD = wBaseAD\n    }\n    \n    if (type=='shot') {\n        vars.diff = thrust * distance;            \n    } else if (type == 'shell') {\n        vars.wAB = Math.min(wBaseAB, distance);\n        vars.diff = ecm;\n        if (distance > wBaseAB) {\n            vars.diff += thrust * distance-wBaseAB;\n        }\n    } else if (type == 'flak') {\n        vars.diff = thrust * distance;\n        vars.wAD = min0(wBaseAD-distance);\n        vars.wAP = min0(wBaseAP-distance);\n        vars.wAB = wBaseAB + distance;\n    }\n            \n    return vars;\n    \n}"],[0,"\n\nfu"]],"start1":0,"start2":0,"length1":756,"length2":4093}]],"length":5236,"saved":false}
{"ts":1363020131205,"patch":[[{"diffs":[[0,"   diff "],[-1,"="],[1,":"],[0," 0,\n    "]],"start1":3477,"start2":3477,"length1":17,"length2":17},{"diffs":[[0,"        wAB "],[-1,"="],[1,":"],[0," wBaseAB,\n  "]],"start1":3491,"start2":3491,"length1":25,"length2":25},{"diffs":[[0,"    wAP "],[-1,"="],[1,":"],[0," wBaseAP"]],"start1":3519,"start2":3519,"length1":17,"length2":17},{"diffs":[[0,"    wAD "],[-1,"="],[1,":"],[0," wBaseAD"]],"start1":3543,"start2":3543,"length1":17,"length2":17},{"diffs":[[0,"toHit = "],[-1,"parse"],[1,"to"],[0,"Int(para"]],"start1":4189,"start2":4189,"length1":21,"length2":18},{"diffs":[[0,"culty = "],[-1,"parse"],[1,"to"],[0,"Int(para"]],"start1":4234,"start2":4234,"length1":21,"length2":18},{"diffs":[[0,"armor = "],[-1,"parse"],[1,"to"],[0,"Int(para"]],"start1":4279,"start2":4279,"length1":21,"length2":18},{"diffs":[[0,"  wAP = "],[-1,"parse"],[1,"to"],[0,"Int(para"]],"start1":4317,"start2":4317,"length1":21,"length2":18},{"diffs":[[0,"  wDB = "],[-1,"parse"],[1,"to"],[0,"Int(para"]],"start1":4353,"start2":4353,"length1":21,"length2":18},{"diffs":[[0,"s = "],[-1,"parse"],[1,"to"],[0,"Int("]],"start1":4396,"start2":4396,"length1":13,"length2":10},{"diffs":[[0,"n min0(value) {\n"],[-1,""],[0,"    return Math."]],"start1":5170,"start2":5170,"length1":32,"length2":32},{"diffs":[[0,"value, 0);\n}"],[1,"\n\nfunction toInt(value) {\n    return parseInt(value, 10);\n}"]],"start1":5206,"start2":5206,"length1":12,"length2":71}]],"length":5277,"saved":false}
{"contributors":[],"silentsave":false,"ts":1363021033690,"patch":[[{"diffs":[[0," $(function() {\n"],[1,"          $(\"#calculateVariables\").click(function() {\n              var $formW = $(\"weaponForm\");\n              var weapon = {\n                  type :  $formW.find(\"[name=type]\").val(),\n                  ab : $formW.find(\"[name=ab]\").val(),\n                  ap : $formW.find(\"[name=ap]\").val(),\n                  ad : $formW.find(\"[name=ad]\").val(),\n                  n : $formW.find(\"[name=n]\").val(),                 \n              };\n              var $formT = $(\"weaponForm\");\n              var target = {\n                  thrust :  $formT.find(\"[name=thrust]\").val(),\n                  dist : $formT.find(\"[name=dist]\").val(),\n                  ecm : $formT.find(\"[name=ecm]\").val(),                  \n              };\n              var variables = calculateVariables(weapon, target);\n          });\n        \n"],[0,"        $(\"#calc"]],"start1":2486,"start2":2486,"length1":32,"length2":848},{"diffs":[[0,"        });\n"],[1,"        \n        \n"],[0,"    });\n    "]],"start1":3789,"start2":3789,"length1":24,"length2":42}]],"length":6111,"saved":false}
{"contributors":[],"silentsave":false,"ts":1363081288337,"patch":[[{"diffs":[[0,"o.\n\n*/\n\n"],[1," var testWeapon = {\n                  type :  'shot',\n                  ab : '4',\n                  ap : '3',\n                  ad : '8',\n                  n : '5',                 \n              };\n              \n var testTarget = {\n                  thrust :  '2',\n                  dist : '5',\n                  ecm : '8',\n              };\n              \n\n"],[0," //docum"]],"start1":2390,"start2":2390,"length1":16,"length2":375},{"diffs":[[0,"});\n"],[-1,"    $(function() {\n          $(\"#"],[1,"\nvar "],[0,"calc"]],"start1":2838,"start2":2838,"length1":41,"length2":13},{"diffs":[[0,"ariables"],[-1,"\").c"],[1,"C"],[0,"lick"],[-1,"("],[1," = "],[0,"function"]],"start1":2857,"start2":2857,"length1":25,"length2":24},{"diffs":[[0,"ion() {\n"],[-1,"          "],[0,"    var "]],"start1":2878,"start2":2878,"length1":26,"length2":16},{"diffs":[[0,"aponForm\");\n"],[-1,"          "],[0,"    var weap"]],"start1":2908,"start2":2908,"length1":34,"length2":24},{"diffs":[[0," weapon = {\n"],[-1,"          "],[0,"        type"]],"start1":2927,"start2":2927,"length1":34,"length2":24},{"diffs":[[0,"e]\").val(),\n"],[-1,"          "],[0,"        ab :"]],"start1":2977,"start2":2977,"length1":34,"length2":24},{"diffs":[[0,"(),\n        "],[-1,"   "],[-1,"       "],[0,"ap : $formW."]],"start1":3030,"start2":3030,"length1":34,"length2":24},{"diffs":[[0,"(),\n        "],[-1,"     "],[-1,"     "],[0,"ad : $formW."]],"start1":3075,"start2":3075,"length1":34,"length2":24},{"diffs":[[0,"(),\n        "],[-1,"      "],[-1,"    "],[0,"n : $formW.f"]],"start1":3120,"start2":3120,"length1":34,"length2":24},{"diffs":[[0,"   \n    "],[-1,"          };\n          "],[1,"};\n"],[0,"    var "]],"start1":3180,"start2":3180,"length1":39,"length2":19},{"diffs":[[0,"Form\");\n"],[-1,"          "],[0,"    var "]],"start1":3217,"start2":3217,"length1":26,"length2":16},{"diffs":[[0," target = {\n"],[-1,"          "],[0,"        thru"]],"start1":3232,"start2":3232,"length1":34,"length2":24},{"diffs":[[0,"(),\n        "],[-1,"   "],[-1,"       "],[0,"dist : $form"]],"start1":3294,"start2":3294,"length1":34,"length2":24},{"diffs":[[0,".val(),\n"],[-1,"          "],[0,"        "]],"start1":3339,"start2":3339,"length1":26,"length2":16},{"diffs":[[0,"   \n    "],[1,"};\n"],[0,"       "],[-1,"   };\n      "],[1,"//test\n    $.extend(weapon,testWeapon);\n    $.extend(target,testTarget);\n"],[0,"    "],[1,"\n"],[0,"    var "]],"start1":3408,"start2":3408,"length1":39,"length2":104},{"diffs":[[0,"t);\n"],[-1,"          });\n        \n        $(\"#calculateButton\").c"],[1,"}\n\nvar calculateDamageC"],[0,"lick"],[-1,"("],[1," = "],[0,"func"]],"start1":3556,"start2":3556,"length1":67,"length2":38},{"diffs":[[0,"ion() {\n    "],[-1,"   "],[-1," "],[0,"var $form = "]],"start1":3595,"start2":3595,"length1":28,"length2":24},{"diffs":[[0,"Form\");\n"],[-1,"    "],[0,"    var "]],"start1":3626,"start2":3626,"length1":20,"length2":16},{"diffs":[[0," params = {\n"],[-1,"        "],[0,"    toHit : "]],"start1":3641,"start2":3641,"length1":32,"length2":24},{"diffs":[[0,"t]\").val(),\n"],[-1,"        "],[0,"    difficul"]],"start1":3687,"start2":3687,"length1":32,"length2":24},{"diffs":[[0,"y]\").val(),\n"],[-1,"        "],[0,"    wAP : $f"]],"start1":3743,"start2":3743,"length1":32,"length2":24},{"diffs":[[0,"P]\").val(),\n"],[-1,"        "],[0,"    wDB : $f"]],"start1":3785,"start2":3785,"length1":32,"length2":24},{"diffs":[[0,".val(),\n"],[-1,"        "],[0,"    nSho"]],"start1":3831,"start2":3831,"length1":24,"length2":16},{"diffs":[[0,").val()\n    "],[-1,"  "],[-1,"  "],[0,"};\n    "],[1,"\n"],[0,"    var dama"]],"start1":3878,"start2":3878,"length1":35,"length2":32},{"diffs":[[0,"s);\n    "],[-1,"   "],[-1," "],[0,"$(\"#resu"]],"start1":3936,"start2":3936,"length1":20,"length2":16},{"diffs":[[0,"e);\n"],[-1,"        });\n        \n        \n    });"],[1,"}\n\n\n"],[0,"\n   "]],"start1":3966,"start2":3966,"length1":45,"length2":12},{"diffs":[[0,"\"1\"\n};\n\n"],[-1,"function"],[1,"var"],[0," calcula"]],"start1":4124,"start2":4124,"length1":24,"length2":19},{"diffs":[[0,"ariables"],[1," = function"],[0,"(attWeap"]],"start1":4146,"start2":4146,"length1":16,"length2":27},{"diffs":[[0,"rs;\n    \n}\n\n"],[-1,"function"],[1,"var"],[0," calculateRG"]],"start1":5067,"start2":5067,"length1":32,"length2":27},{"diffs":[[0,"culateRGDama"],[1,"n"],[0,"ge"],[1," = function"],[0,"(params) {\n "]],"start1":5086,"start2":5086,"length1":26,"length2":38},{"diffs":[[0,"alue, 10);\n}"],[-1,""],[0,""],[1,"\n\n\n $(function() {\n     $(\"#calculateVariables\").click(calculateVariablesClick());\n     $(\"#calculateButton\").click(calculateDamageClick());\n });\n     "]],"start1":6260,"start2":6260,"length1":12,"length2":163}]],"length":6423,"saved":false}
{"ts":1363081324377,"patch":[[{"diffs":[[0," = calculate"],[1,"RG"],[0,"Damage(param"]],"start1":3912,"start2":3912,"length1":24,"length2":26},{"diffs":[[0,"teRGDama"],[-1,"n"],[0,"ge = fun"]],"start1":5092,"start2":5092,"length1":17,"length2":16},{"diffs":[[0,"ick());\n"],[1,"     calculateVariablesClick();\n"],[0," });\n   "]],"start1":6406,"start2":6406,"length1":16,"length2":48}]],"length":6456,"saved":false}
{"ts":1363081328186,"patch":[[{"diffs":[[0,"geClick());\n"],[1,"     //test\n"],[0,"     calcula"]],"start1":6402,"start2":6402,"length1":24,"length2":36}]],"length":6468,"saved":false}
{"ts":1363081396475,"patch":[[{"diffs":[[0,"getShip.dist"],[-1,"ance"],[0,";\n    var ec"]],"start1":4391,"start2":4391,"length1":28,"length2":24}]],"length":6464,"saved":false}
{"ts":1363084451014,"patch":[[{"diffs":[[0,"    "],[-1,"   //test\n    $.extend(weapon,testWeapon);\n    $.extend(target,testTarget);"],[0,""],[1,""],[0,"\n   "]],"start1":3419,"start2":3419,"length1":83,"length2":8},{"diffs":[[0,"    diff"],[-1,"iculty"],[0," : \"10\","]],"start1":3959,"start2":3959,"length1":22,"length2":16},{"diffs":[[0,"mor : \"10\",\n"],[1,"      wAB : \"0\",\n"],[0,"      wAP : "]],"start1":3984,"start2":3984,"length1":24,"length2":41},{"diffs":[[0,"\n      w"],[1,"A"],[0,"D"],[-1,"B"],[0," : \"8\",\n"]],"start1":4029,"start2":4029,"length1":18,"length2":18},{"diffs":[[0,"\n      n"],[-1,"Shots"],[0," : \"1\"\n}"]],"start1":4046,"start2":4046,"length1":21,"length2":16},{"diffs":[[0,"ams.diff"],[-1,"iculty"],[0,");\n    v"]],"start1":5174,"start2":5174,"length1":22,"length2":16},{"diffs":[[0,"(params.armor);\n"],[1,"    var    wAB = toInt(params.wAB);\n"],[0,"    var    wAP ="]],"start1":5209,"start2":5209,"length1":32,"length2":68},{"diffs":[[0,"var    w"],[1,"A"],[0,"D"],[-1,"B"],[0," = toInt"]],"start1":5301,"start2":5301,"length1":18,"length2":18},{"diffs":[[0,"params.w"],[1,"A"],[0,"D"],[-1,"B"],[0,");\n    v"]],"start1":5320,"start2":5320,"length1":18,"length2":18},{"diffs":[[0,"params.n"],[-1,"Shots"],[0,");      "]],"start1":5359,"start2":5359,"length1":21,"length2":16},{"diffs":[[0," = toHit"],[1,"+wAB"],[0,"-difficu"]],"start1":5409,"start2":5409,"length1":16,"length2":20},{"diffs":[[0,"o5(margin);\n"],[1,"    var precision5 = to5(toHit+wAB-(difficulty*2));\n"],[0,"    var pene"]],"start1":5453,"start2":5453,"length1":24,"length2":76},{"diffs":[[0,"ForShot = min0(w"],[1,"A"],[0,"D"],[-1,"B"],[0," - remainingArmo"]],"start1":5733,"start2":5733,"length1":34,"length2":34},{"diffs":[[0,"= min0(w"],[1,"A"],[0,"D"],[-1,"B"],[0," - remai"]],"start1":5813,"start2":5813,"length1":18,"length2":18},{"diffs":[[0,"ts)+1;\n    \n"],[1,"    var damageResult = {\n        damageBlocks : totDamage,\n        precisionLevel : precision5,\n        partialPenetration : isPartialPenetration        \n    }\n    \n"],[0,"    return t"]],"start1":5900,"start2":5900,"length1":24,"length2":189},{"diffs":[[0,"e) {\n    return "],[1,"min0("],[0,"Math.floor(value"]],"start1":6234,"start2":6234,"length1":32,"length2":37},{"diffs":[[0,"value/5)"],[1,")"],[0,";\n}\n\nfun"]],"start1":6266,"start2":6266,"length1":16,"length2":17},{"diffs":[[0,"est\n    "],[1," var variables ="],[0," calcula"]],"start1":6601,"start2":6601,"length1":16,"length2":32},{"diffs":[[0,"bles"],[-1,"Click();"],[1,"(testWeapon, testTarget);\n     $.extend(defaultParameters, variables);\n     defaultParameters.toHit = '10';\n     var damage = calculateRGDamage(defaultParameters);\n     "],[0,"\n })"]],"start1":6640,"start2":6640,"length1":16,"length2":177}]],"length":6824,"saved":false}
{"ts":1363084640723,"patch":[[{"diffs":[[0," wBaseAD"],[1,",\n         n : attWeapon.n,"],[0,"\n    }\n "]],"start1":4469,"start2":4469,"length1":16,"length2":43}]],"length":6851,"saved":false}
{"ts":1363084702322,"patch":[[{"diffs":[[0,".extend("],[1,"variables, "],[0,"defaultP"]],"start1":6703,"start2":6703,"length1":16,"length2":27},{"diffs":[[0,"ters"],[-1,", variables"],[0,");\n "]],"start1":6735,"start2":6735,"length1":19,"length2":8}]],"length":6851,"saved":false}
{"ts":1363084776058,"patch":[[{"diffs":[[0,"    "],[-1,"$.extend(variables, defaultParameters);\n     defaultParameters"],[1,"var input = {}\n     $.extend(input, defaultParameters, variables);\n     input"],[0,".toH"]],"start1":6698,"start2":6698,"length1":70,"length2":85},{"diffs":[[0,"GDamage("],[-1,"defaultParameters"],[1,"input"],[0,");\n     "]],"start1":6822,"start2":6822,"length1":33,"length2":21}]],"length":6854,"saved":false}
{"ts":1363084918499,"patch":[[{"diffs":[[0,"   \n"],[-1,"    $.extend(params,defaultParameters);\n    \n"],[0,"    "]],"start1":5079,"start2":5079,"length1":53,"length2":8}]],"length":6809,"saved":false}
{"ts":1363085104507,"patch":[[{"diffs":[[0,"Damage ="],[1," damForShot * nShots;\n    var totDamage5 = 0;\n    if (totDamage > 0) {\n        totDamage5 ="],[0," to5(dam"]],"start1":5852,"start2":5852,"length1":16,"length2":107},{"diffs":[[0,"ots)+1;\n"],[1,"    }\n"],[0,"    \n   "]],"start1":5972,"start2":5972,"length1":16,"length2":22}]],"length":6906,"saved":false}
{"ts":1363085179099,"patch":[[{"diffs":[[0,"oHit = '"],[-1,"10"],[1,"22"],[0,"';\n     "]],"start1":6833,"start2":6833,"length1":18,"length2":18}]],"length":6906,"saved":false}
{"ts":1363085207283,"patch":[[{"diffs":[[0,"age(input);\n"],[1,"     console.log(damage);\n"],[0,"     \n });\n "]],"start1":6878,"start2":6878,"length1":24,"length2":50}]],"length":6932,"saved":false}
{"ts":1363085243392,"patch":[[{"diffs":[[0," return "],[-1,"totD"],[1,"d"],[0,"amage"],[1,"Result"],[0,";\n    \n}"]],"start1":6159,"start2":6159,"length1":25,"length2":28}]],"length":6935,"saved":false}
{"ts":1363085349286,"patch":[[{"diffs":[[0,"otDamage"],[1,"5"],[0,",\n      "]],"start1":6040,"start2":6040,"length1":16,"length2":17}]],"length":6936,"saved":false}
{"ts":1363085608069,"patch":[[{"diffs":[[0,"ar calculate"],[-1,"RG"],[0,""],[1,""],[0,"Damage = fun"]],"start1":5036,"start2":5036,"length1":26,"length2":24},{"diffs":[[0,"    "],[-1,"if (isPartialPenetration) {"],[0,"\n    "],[1,"\n"],[0,"    "],[-1,"damForShot = min0(wAD - remainingArmor) + margin5;\n    } else {\n        damForShot = min0(wAD - remainingArmor +"],[1,"var damageParams = {\n        margin5 :"],[0," margin5"],[-1,");"],[1,","],[0,"\n    "],[-1,"}\n"],[0,"    "],[-1,"var totDamage = damForShot * nShots;\n    var totDamage5 = 0;\n    if (totDamage > 0) {"],[1,"isPartialPenetration : isPartialPenetration"],[0,"\n    "],[1,"}\n"],[0,"    "],[-1,"totDamage5 = to5(damForShot * nShots)+1"],[1,"$.extend(damageParams, params)"],[0,";\n    "],[-1,"}"],[1,"\n    "],[0,"\n   "]],"start1":5670,"start2":5670,"length1":317,"length2":169},{"diffs":[[0,"Result;\n    \n}\n\n"],[1,"function calculateShotDamage(params) {\n    var damForShot = 0;\n    if (params.isPartialPenetration) {\n        damForShot = min0(params.wAD - params.remainingArmor) + params.margin5;\n    } else {\n        damForShot = min0(params.wAD - params.remainingArmor + params.margin5);\n    }\n   return damForShot;\n}\n\n"],[0,"function calcula"]],"start1":6024,"start2":6024,"length1":32,"length2":338}]],"length":7092,"saved":false}
{"ts":1363085673033,"patch":[[{"diffs":[[0,"    "],[-1,"var damForShot = 0;\n    \n    "],[0,"\n"],[1," "],[0,"    "]],"start1":5646,"start2":5646,"length1":38,"length2":10},{"diffs":[[0,"arams);\n"],[-1,""],[0,"    \n"],[1,"    var damForProj = calculateShotDamage(damageParams);\n    \n    var totDamage = damForProj * nShots;\n    var totDamage5 = 0;\n    if (totDamage > 0) {\n        totDamage5 = to5(damForProj * nShots)+1;\n    }\n    \n   \n"],[0,"    \n   "]],"start1":5790,"start2":5790,"length1":21,"length2":236}]],"length":7279,"saved":false}
{"ts":1363085678804,"patch":[[{"diffs":[[0,"   }"],[-1,"\n"],[0,"    "],[-1,"\n   \n  "],[0,"  \n "]],"start1":6004,"start2":6004,"length1":20,"length2":12}]],"length":7271,"saved":false}
{"ts":1363086738839,"patch":[[{"diffs":[[0,"\n      \n"],[-1,"      \n    \n"],[0,"    var "]],"start1":5355,"start2":5355,"length1":28,"length2":16},{"diffs":[[0,"ForShot;\n}\n\n"],[1,"function calculateShellDamage(params) {\n    var damForShot = 0;\n    if (params.isPartialPenetration) {\n        damForShot = min0(params.wAD - params.remainingArmor) + params.margin5;\n    } else {\n        damForShot = min0(params.wAD - params.remainingArmor + params.margin5);\n    }\n   return damForShot;\n}\n\n"],[0,"function cal"]],"start1":6501,"start2":6501,"length1":24,"length2":331}]],"length":7566,"saved":false}
{"ts":1363087028401,"patch":[[{"diffs":[[0,"}\n\n\n"],[-1," $(function() {\n     $(\"#calculateVariables\").click(calculateVariablesClick());\n     $(\"#calculateButton\").click(calculateDamageClick());\n     //test\n     var variables = calculateVariables(testWeapon, testTarget);\n     var input = {}\n     $.extend(input, defaultParameters, variables);\n     input.toHit = '22';\n     var damage = calculateRGDamage(input);\n     console.log(damage);\n     \n });"],[0,"\n   "]],"start1":7164,"start2":7164,"length1":400,"length2":8}]],"length":7174,"saved":false}
